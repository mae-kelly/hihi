"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/hooks/useVisibilityData.ts":
/*!****************************************!*\
  !*** ./src/hooks/useVisibilityData.ts ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatNumber: function() { return /* binding */ formatNumber; },\n/* harmony export */   getStatusColor: function() { return /* binding */ getStatusColor; },\n/* harmony export */   getVisibilityColor: function() { return /* binding */ getVisibilityColor; },\n/* harmony export */   usePageVisibility: function() { return /* binding */ usePageVisibility; },\n/* harmony export */   useVisibilityMetrics: function() { return /* binding */ useVisibilityMetrics; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst useVisibilityMetrics = ()=>{\n    const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchMetrics = async ()=>{\n            try {\n                setLoading(true);\n                // Fetch all visibility endpoints in parallel\n                const endpoints = [\n                    \"global_visibility\",\n                    \"infrastructure_visibility\",\n                    \"regional_visibility\",\n                    \"business_unit_visibility\",\n                    \"system_classification_visibility\",\n                    \"security_control_coverage\",\n                    \"logging_compliance\",\n                    \"domain_visibility\"\n                ];\n                const responses = await Promise.all(endpoints.map((endpoint)=>fetch(\"http://localhost:5000/api/\".concat(endpoint)).then((res)=>res.json()).catch((err)=>{\n                        console.error(\"Error fetching \".concat(endpoint, \":\"), err);\n                        return null;\n                    })));\n                const [global, infra, regional, bu, system, security, logging, domain] = responses;\n                // Process each response into standardized format\n                const processedData = {};\n                if (global) {\n                    processedData.global = {\n                        percentage: global.global_visibility_percentage || 0,\n                        total: global.total_hosts || 0,\n                        visible: global.visible_hosts || 0,\n                        invisible: global.invisible_hosts || 0,\n                        status: global.status || \"CRITICAL\"\n                    };\n                }\n                if (infra) {\n                    processedData.infrastructure = {\n                        percentage: infra.overall_infrastructure_visibility || 0,\n                        total: infra.total_infrastructure_types || 0,\n                        visible: infra.category_summary ? Object.values(infra.category_summary).filter((c)=>c.visibility_percentage > 50).length : 0,\n                        invisible: infra.critical_gaps ? infra.critical_gaps.length : 0,\n                        status: infra.overall_infrastructure_visibility < 30 ? \"CRITICAL\" : infra.overall_infrastructure_visibility < 70 ? \"WARNING\" : \"HEALTHY\"\n                    };\n                }\n                if (regional) {\n                    const avgVisibility = regional.regional_breakdown ? regional.regional_breakdown.reduce((sum, r)=>sum + r.visibility_percentage, 0) / regional.regional_breakdown.length : 0;\n                    processedData.regional = {\n                        percentage: avgVisibility,\n                        total: regional.regional_breakdown ? regional.regional_breakdown.length : 0,\n                        visible: regional.regional_breakdown ? regional.regional_breakdown.filter((r)=>r.visibility_percentage > 50).length : 0,\n                        invisible: regional.regional_breakdown ? regional.regional_breakdown.filter((r)=>r.visibility_percentage <= 50).length : 0,\n                        status: avgVisibility < 40 ? \"CRITICAL\" : avgVisibility < 70 ? \"WARNING\" : \"HEALTHY\"\n                    };\n                }\n                if (bu) {\n                    const avgVisibility = bu.business_unit_breakdown ? bu.business_unit_breakdown.reduce((sum, b)=>sum + b.visibility_percentage, 0) / bu.business_unit_breakdown.length : 0;\n                    processedData.businessUnit = {\n                        percentage: avgVisibility,\n                        total: bu.business_unit_breakdown ? bu.business_unit_breakdown.length : 0,\n                        visible: bu.business_unit_breakdown ? bu.business_unit_breakdown.filter((b)=>b.visibility_percentage > 50).length : 0,\n                        invisible: bu.business_unit_breakdown ? bu.business_unit_breakdown.filter((b)=>b.visibility_percentage <= 50).length : 0,\n                        status: avgVisibility < 40 ? \"CRITICAL\" : avgVisibility < 70 ? \"WARNING\" : \"HEALTHY\"\n                    };\n                }\n                if (system) {\n                    const avgVisibility = system.category_summary ? Object.values(system.category_summary).reduce((sum, s)=>sum + s.visibility_percentage, 0) / Object.keys(system.category_summary).length : 0;\n                    processedData.system = {\n                        percentage: avgVisibility,\n                        total: system.total_system_types || 0,\n                        visible: system.critical_systems ? system.total_system_types - system.critical_systems.length : 0,\n                        invisible: system.critical_systems ? system.critical_systems.length : 0,\n                        status: avgVisibility < 40 ? \"CRITICAL\" : avgVisibility < 70 ? \"WARNING\" : \"HEALTHY\"\n                    };\n                }\n                if (security) {\n                    var _security_all_controls_coverage;\n                    processedData.security = {\n                        percentage: security.all_controls_coverage ? security.all_controls_coverage.coverage_percentage : 0,\n                        total: security.total_hosts || 0,\n                        visible: security.all_controls_coverage ? security.all_controls_coverage.fully_protected_hosts : 0,\n                        invisible: security.all_controls_coverage ? security.all_controls_coverage.partially_protected_hosts : 0,\n                        status: ((_security_all_controls_coverage = security.all_controls_coverage) === null || _security_all_controls_coverage === void 0 ? void 0 : _security_all_controls_coverage.status) || \"CRITICAL\"\n                    };\n                }\n                if (logging) {\n                    var _logging_combined_compliance;\n                    processedData.logging = {\n                        percentage: logging.combined_compliance ? logging.combined_compliance.either_platform.percentage : 0,\n                        total: logging.total_hosts || 0,\n                        visible: logging.combined_compliance ? logging.combined_compliance.either_platform.host_count : 0,\n                        invisible: logging.combined_compliance ? logging.combined_compliance.neither_platform.host_count : 0,\n                        status: ((_logging_combined_compliance = logging.combined_compliance) === null || _logging_combined_compliance === void 0 ? void 0 : _logging_combined_compliance.overall_status) || \"CRITICAL\"\n                    };\n                }\n                if (domain) {\n                    processedData.domain = {\n                        percentage: domain.overall_domain_visibility || 0,\n                        total: domain.total_domains || 0,\n                        visible: domain.critical_domains ? domain.total_domains - domain.critical_domains.length : domain.total_domains,\n                        invisible: domain.critical_domains ? domain.critical_domains.length : 0,\n                        status: domain.overall_domain_visibility < 40 ? \"CRITICAL\" : domain.overall_domain_visibility < 70 ? \"WARNING\" : \"HEALTHY\"\n                    };\n                }\n                // Calculate overall visibility\n                const visibilityValues = Object.values(processedData).filter((d)=>d && typeof d.percentage === \"number\").map((d)=>d.percentage);\n                if (visibilityValues.length > 0) {\n                    processedData.overall = visibilityValues.reduce((sum, v)=>sum + v, 0) / visibilityValues.length;\n                    processedData.criticalCount = Object.values(processedData).filter((d)=>d && d.status === \"CRITICAL\").length;\n                }\n                setData(processedData);\n                setError(null);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"Failed to fetch visibility metrics\");\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchMetrics();\n        const interval = setInterval(fetchMetrics, 30000); // Refresh every 30 seconds\n        return ()=>clearInterval(interval);\n    }, []);\n    return {\n        data,\n        loading,\n        error\n    };\n};\n// Hook for individual page metrics\nconst usePageVisibility = (page)=>{\n    const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchData = async ()=>{\n            try {\n                setLoading(true);\n                const endpointMap = {\n                    \"global\": \"global_visibility\",\n                    \"infrastructure\": \"infrastructure_visibility\",\n                    \"regional\": \"regional_visibility\",\n                    \"business-unit\": \"business_unit_visibility\",\n                    \"system\": \"system_classification_visibility\",\n                    \"security\": \"security_control_coverage\",\n                    \"logging\": \"logging_compliance\",\n                    \"domain\": \"domain_visibility\"\n                };\n                const endpoint = endpointMap[page];\n                if (!endpoint) {\n                    throw new Error(\"Unknown page: \".concat(page));\n                }\n                const response = await fetch(\"http://localhost:5000/api/\".concat(endpoint));\n                if (!response.ok) {\n                    throw new Error(\"Failed to fetch \".concat(endpoint));\n                }\n                const result = await response.json();\n                setData(result);\n                setError(null);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"Failed to fetch data\");\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchData();\n        const interval = setInterval(fetchData, 30000);\n        return ()=>clearInterval(interval);\n    }, [\n        page\n    ]);\n    return {\n        data,\n        loading,\n        error\n    };\n};\n// Export utility functions\nconst getVisibilityColor = (percentage)=>{\n    if (percentage >= 80) return \"#00d4ff\"; // cyan\n    if (percentage >= 50) return \"#c084fc\"; // purple\n    return \"#ff00ff\"; // pink\n};\nconst getStatusColor = (status)=>{\n    switch(status.toUpperCase()){\n        case \"HEALTHY\":\n            return \"#00d4ff\";\n        case \"WARNING\":\n            return \"#c084fc\";\n        case \"CRITICAL\":\n            return \"#ff00ff\";\n        default:\n            return \"#ffffff\";\n    }\n};\nconst formatNumber = (num)=>{\n    if (num >= 1000000) {\n        return (num / 1000000).toFixed(1) + \"M\";\n    }\n    if (num >= 1000) {\n        return (num / 1000).toFixed(1) + \"K\";\n    }\n    return num.toString();\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VWaXNpYmlsaXR5RGF0YS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTRDO0FBdUJyQyxNQUFNRSx1QkFBdUI7SUFDbEMsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdKLCtDQUFRQSxDQUFjLENBQUM7SUFDL0MsTUFBTSxDQUFDSyxTQUFTQyxXQUFXLEdBQUdOLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ08sT0FBT0MsU0FBUyxHQUFHUiwrQ0FBUUEsQ0FBZ0I7SUFFbERDLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTVEsZUFBZTtZQUNuQixJQUFJO2dCQUNGSCxXQUFXO2dCQUVYLDZDQUE2QztnQkFDN0MsTUFBTUksWUFBWTtvQkFDaEI7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7aUJBQ0Q7Z0JBRUQsTUFBTUMsWUFBWSxNQUFNQyxRQUFRQyxHQUFHLENBQ2pDSCxVQUFVSSxHQUFHLENBQUNDLENBQUFBLFdBQ1pDLE1BQU0sNkJBQXNDLE9BQVRELFdBQ2hDRSxJQUFJLENBQUNDLENBQUFBLE1BQU9BLElBQUlDLElBQUksSUFDcEJDLEtBQUssQ0FBQ0MsQ0FBQUE7d0JBQ0xDLFFBQVFmLEtBQUssQ0FBQyxrQkFBMkIsT0FBVFEsVUFBUyxNQUFJTTt3QkFDN0MsT0FBTztvQkFDVDtnQkFJTixNQUFNLENBQUNFLFFBQVFDLE9BQU9DLFVBQVVDLElBQUlDLFFBQVFDLFVBQVVDLFNBQVNDLE9BQU8sR0FBR25CO2dCQUV6RSxpREFBaUQ7Z0JBQ2pELE1BQU1vQixnQkFBNkIsQ0FBQztnQkFFcEMsSUFBSVIsUUFBUTtvQkFDVlEsY0FBY1IsTUFBTSxHQUFHO3dCQUNyQlMsWUFBWVQsT0FBT1UsNEJBQTRCLElBQUk7d0JBQ25EQyxPQUFPWCxPQUFPWSxXQUFXLElBQUk7d0JBQzdCQyxTQUFTYixPQUFPYyxhQUFhLElBQUk7d0JBQ2pDQyxXQUFXZixPQUFPZ0IsZUFBZSxJ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O1lBQ1gsRUFBRSxPQUFPYSxLQUFLO2dCQUNaYixTQUFTYSxlQUFlNEQsUUFBUTVELElBQUk2RCxPQUFPLEdBQUc7WUFDaEQsU0FBVTtnQkFDUjVFLFdBQVc7WUFDYjtRQUNGO1FBRUFrRjtRQUNBLE1BQU1MLFdBQVdDLFlBQVlJLFdBQVc7UUFDeEMsT0FBTyxJQUFNSCxjQUFjRjtJQUM3QixHQUFHO1FBQUNJO0tBQUs7SUFFVCxPQUFPO1FBQUVwRjtRQUFNRTtRQUFTRTtJQUFNO0FBQ2hDLEVBQUU7QUFFRiwyQkFBMkI7QUFDcEIsTUFBTXNGLHFCQUFxQixDQUFDN0Q7SUFDakMsSUFBSUEsY0FBYyxJQUFJLE9BQU8sV0FBVyxPQUFPO0lBQy9DLElBQUlBLGNBQWMsSUFBSSxPQUFPLFdBQVcsU0FBUztJQUNqRCxPQUFPLFdBQVcsT0FBTztBQUMzQixFQUFFO0FBRUssTUFBTThELGlCQUFpQixDQUFDdEQ7SUFDN0IsT0FBUUEsT0FBT3VELFdBQVc7UUFDeEIsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1Q7WUFDRSxPQUFPO0lBQ1g7QUFDRixFQUFFO0FBRUssTUFBTUMsZUFBZSxDQUFDQztJQUMzQixJQUFJQSxPQUFPLFNBQVM7UUFDbEIsT0FBTyxDQUFDQSxNQUFNLE9BQU0sRUFBR0MsT0FBTyxDQUFDLEtBQUs7SUFDdEM7SUFDQSxJQUFJRCxPQUFPLE1BQU07UUFDZixPQUFPLENBQUNBLE1BQU0sSUFBRyxFQUFHQyxPQUFPLENBQUMsS0FBSztJQUNuQztJQUNBLE9BQU9ELElBQUlFLFFBQVE7QUFDckIsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvaG9va3MvdXNlVmlzaWJpbGl0eURhdGEudHM/MDdmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgVmlzaWJpbGl0eURhdGEge1xuICBwZXJjZW50YWdlOiBudW1iZXI7XG4gIHRvdGFsOiBudW1iZXI7XG4gIHZpc2libGU6IG51bWJlcjtcbiAgaW52aXNpYmxlOiBudW1iZXI7XG4gIHN0YXR1czogJ0NSSVRJQ0FMJyB8ICdXQVJOSU5HJyB8ICdIRUFMVEhZJztcbn1cblxuaW50ZXJmYWNlIE1ldHJpY3NEYXRhIHtcbiAgZ2xvYmFsPzogVmlzaWJpbGl0eURhdGE7XG4gIGluZnJhc3RydWN0dXJlPzogVmlzaWJpbGl0eURhdGE7XG4gIHJlZ2lvbmFsPzogVmlzaWJpbGl0eURhdGE7XG4gIGJ1c2luZXNzVW5pdD86IFZpc2liaWxpdHlEYXRhO1xuICBzeXN0ZW0/OiBWaXNpYmlsaXR5RGF0YTtcbiAgc2VjdXJpdHk/OiBWaXNpYmlsaXR5RGF0YTtcbiAgbG9nZ2luZz86IFZpc2liaWxpdHlEYXRhO1xuICBkb21haW4/OiBWaXNpYmlsaXR5RGF0YTtcbiAgb3ZlcmFsbD86IG51bWJlcjtcbiAgY3JpdGljYWxDb3VudD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVZpc2liaWxpdHlNZXRyaWNzID0gKCkgPT4ge1xuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZTxNZXRyaWNzRGF0YT4oe30pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoTWV0cmljcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGZXRjaCBhbGwgdmlzaWJpbGl0eSBlbmRwb2ludHMgaW4gcGFyYWxsZWxcbiAgICAgICAgY29uc3QgZW5kcG9pbnRzID0gW1xuICAgICAgICAgICdnbG9iYWxfdmlzaWJpbGl0eScsXG4gICAgICAgICAgJ2luZnJhc3RydWN0dXJlX3Zpc2liaWxpdHknLFxuICAgICAgICAgICdyZWdpb25hbF92aXNpYmlsaXR5JyxcbiAgICAgICAgICAnYnVzaW5lc3NfdW5pdF92aXNpYmlsaXR5JyxcbiAgICAgICAgICAnc3lzdGVtX2NsYXNzaWZpY2F0aW9uX3Zpc2liaWxpdHknLFxuICAgICAgICAgICdzZWN1cml0eV9jb250cm9sX2NvdmVyYWdlJyxcbiAgICAgICAgICAnbG9nZ2luZ19jb21wbGlhbmNlJyxcbiAgICAgICAgICAnZG9tYWluX3Zpc2liaWxpdHknXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgZW5kcG9pbnRzLm1hcChlbmRwb2ludCA9PiBcbiAgICAgICAgICAgIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpLyR7ZW5kcG9pbnR9YClcbiAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nICR7ZW5kcG9pbnR9OmAsIGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IFtnbG9iYWwsIGluZnJhLCByZWdpb25hbCwgYnUsIHN5c3RlbSwgc2VjdXJpdHksIGxvZ2dpbmcsIGRvbWFpbl0gPSByZXNwb25zZXM7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBlYWNoIHJlc3BvbnNlIGludG8gc3RhbmRhcmRpemVkIGZvcm1hdFxuICAgICAgICBjb25zdCBwcm9jZXNzZWREYXRhOiBNZXRyaWNzRGF0YSA9IHt9O1xuXG4gICAgICAgIGlmIChnbG9iYWwpIHtcbiAgICAgICAgICBwcm9jZXNzZWREYXRhLmdsb2JhbCA9IHtcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IGdsb2JhbC5nbG9iYWxfdmlzaWJpbGl0eV9wZXJjZW50YWdlIHx8IDAsXG4gICAgICAgICAgICB0b3RhbDogZ2xvYmFsLnRvdGFsX2hvc3RzIHx8IDAsXG4gICAgICAgICAgICB2aXNpYmxlOiBnbG9iYWwudmlzaWJsZV9ob3N0cyB8fCAwLFxuICAgICAgICAgICAgaW52aXNpYmxlOiBnbG9iYWwuaW52aXNpYmxlX2hvc3RzIHx8IDAsXG4gICAgICAgICAgICBzdGF0dXM6IGdsb2JhbC5zdGF0dXMgfHwgJ0NSSVRJQ0FMJ1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5mcmEpIHtcbiAgICAgICAgICBwcm9jZXNzZWREYXRhLmluZnJhc3RydWN0dXJlID0ge1xuICAgICAgICAgICAgcGVyY2VudGFnZTogaW5mcmEub3ZlcmFsbF9pbmZyYXN0cnVjdHVyZV92aXNpYmlsaXR5IHx8IDAsXG4gICAgICAgICAgICB0b3RhbDogaW5mcmEudG90YWxfaW5mcmFzdHJ1Y3R1cmVfdHlwZXMgfHwgMCxcbiAgICAgICAgICAgIHZpc2libGU6IGluZnJhLmNhdGVnb3J5X3N1bW1hcnkgPyBcbiAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhpbmZyYS5jYXRlZ29yeV9zdW1tYXJ5KS5maWx0ZXIoKGM6IGFueSkgPT4gYy52aXNpYmlsaXR5X3BlcmNlbnRhZ2UgPiA1MCkubGVuZ3RoIDogMCxcbiAgICAgICAgICAgIGludmlzaWJsZTogaW5mcmEuY3JpdGljYWxfZ2FwcyA/IGluZnJhLmNyaXRpY2FsX2dhcHMubGVuZ3RoIDogMCxcbiAgICAgICAgICAgIHN0YXR1czogaW5mcmEub3ZlcmFsbF9pbmZyYXN0cnVjdHVyZV92aXNpYmlsaXR5IDwgMzAgPyAnQ1JJVElDQUwnIDogXG4gICAgICAgICAgICAgICAgICAgaW5mcmEub3ZlcmFsbF9pbmZyYXN0cnVjdHVyZV92aXNpYmlsaXR5IDwgNzAgPyAnV0FSTklORycgOiAnSEVBTFRIWSdcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlZ2lvbmFsKSB7XG4gICAgICAgICAgY29uc3QgYXZnVmlzaWJpbGl0eSA9IHJlZ2lvbmFsLnJlZ2lvbmFsX2JyZWFrZG93biA/IFxuICAgICAgICAgICAgcmVnaW9uYWwucmVnaW9uYWxfYnJlYWtkb3duLnJlZHVjZSgoc3VtOiBudW1iZXIsIHI6IGFueSkgPT4gc3VtICsgci52aXNpYmlsaXR5X3BlcmNlbnRhZ2UsIDApIC8gcmVnaW9uYWwucmVnaW9uYWxfYnJlYWtkb3duLmxlbmd0aCA6IDA7XG4gICAgICAgICAgXG4gICAgICAgICAgcHJvY2Vzc2VkRGF0YS5yZWdpb25hbCA9IHtcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IGF2Z1Zpc2liaWxpdHksXG4gICAgICAgICAgICB0b3RhbDogcmVnaW9uYWwucmVnaW9uYWxfYnJlYWtkb3duID8gcmVnaW9uYWwucmVnaW9uYWxfYnJlYWtkb3duLmxlbmd0aCA6IDAsXG4gICAgICAgICAgICB2aXNpYmxlOiByZWdpb25hbC5yZWdpb25hbF9icmVha2Rvd24gPyBcbiAgICAgICAgICAgICAgcmVnaW9uYWwucmVnaW9uYWxfYnJlYWtkb3duLmZpbHRlcigocjogYW55KSA9PiByLnZpc2liaWxpdHlfcGVyY2VudGFnZSA+IDUwKS5sZW5ndGggOiAwLFxuICAgICAgICAgICAgaW52aXNpYmxlOiByZWdpb25hbC5yZWdpb25hbF9icmVha2Rvd24gPyBcbiAgICAgICAgICAgICAgcmVnaW9uYWwucmVnaW9uYWxfYnJlYWtkb3duLmZpbHRlcigocjogYW55KSA9PiByLnZpc2liaWxpdHlfcGVyY2VudGFnZSA8PSA1MCkubGVuZ3RoIDogMCxcbiAgICAgICAgICAgIHN0YXR1czogYXZnVmlzaWJpbGl0eSA8IDQwID8gJ0NSSVRJQ0FMJyA6IGF2Z1Zpc2liaWxpdHkgPCA3MCA/ICdXQVJOSU5HJyA6ICdIRUFMVEhZJ1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnUpIHtcbiAgICAgICAgICBjb25zdCBhdmdWaXNpYmlsaXR5ID0gYnUuYnVzaW5lc3NfdW5pdF9icmVha2Rvd24gPyBcbiAgICAgICAgICAgIGJ1LmJ1c2luZXNzX3VuaXRfYnJlYWtkb3duLnJlZHVjZSgoc3VtOiBudW1iZXIsIGI6IGFueSkgPT4gc3VtICsgYi52aXNpYmlsaXR5X3BlcmNlbnRhZ2UsIDApIC8gYnUuYnVzaW5lc3NfdW5pdF9icmVha2Rvd24ubGVuZ3RoIDogMDtcbiAgICAgICAgICBcbiAgICAgICAgICBwcm9jZXNzZWREYXRhLmJ1c2luZXNzVW5pdCA9IHtcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IGF2Z1Zpc2liaWxpdHksXG4gICAgICAgICAgICB0b3RhbDogYnUuYnVzaW5lc3NfdW5pdF9icmVha2Rvd24gPyBidS5idXNpbmVzc191bml0X2JyZWFrZG93bi5sZW5ndGggOiAwLFxuICAgICAgICAgICAgdmlzaWJsZTogYnUuYnVzaW5lc3NfdW5pdF9icmVha2Rvd24gPyBcbiAgICAgICAgICAgICAgYnUuYnVzaW5lc3NfdW5pdF9icmVha2Rvd24uZmlsdGVyKChiOiBhbnkpID0+IGIudmlzaWJpbGl0eV9wZXJjZW50YWdlID4gNTApLmxlbmd0aCA6IDAsXG4gICAgICAgICAgICBpbnZpc2libGU6IGJ1LmJ1c2luZXNzX3VuaXRfYnJlYWtkb3duID8gXG4gICAgICAgICAgICAgIGJ1LmJ1c2luZXNzX3VuaXRfYnJlYWtkb3duLmZpbHRlcigoYjogYW55KSA9PiBiLnZpc2liaWxpdHlfcGVyY2VudGFnZSA8PSA1MCkubGVuZ3RoIDogMCxcbiAgICAgICAgICAgIHN0YXR1czogYXZnVmlzaWJpbGl0eSA8IDQwID8gJ0NSSVRJQ0FMJyA6IGF2Z1Zpc2liaWxpdHkgPCA3MCA/ICdXQVJOSU5HJyA6ICdIRUFMVEhZJ1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3lzdGVtKSB7XG4gICAgICAgICAgY29uc3QgYXZnVmlzaWJpbGl0eSA9IHN5c3RlbS5jYXRlZ29yeV9zdW1tYXJ5ID8gXG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKHN5c3RlbS5jYXRlZ29yeV9zdW1tYXJ5KS5yZWR1Y2UoKHN1bTogbnVtYmVyLCBzOiBhbnkpID0+IHN1bSArIHMudmlzaWJpbGl0eV9wZXJjZW50YWdlLCAwKSAvIFxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3lzdGVtLmNhdGVnb3J5X3N1bW1hcnkpLmxlbmd0aCA6IDA7XG4gICAgICAgICAgXG4gICAgICAgICAgcHJvY2Vzc2VkRGF0YS5zeXN0ZW0gPSB7XG4gICAgICAgICAgICBwZXJjZW50YWdlOiBhdmdWaXNpYmlsaXR5LFxuICAgICAgICAgICAgdG90YWw6IHN5c3RlbS50b3RhbF9zeXN0ZW1fdHlwZXMgfHwgMCxcbiAgICAgICAgICAgIHZpc2libGU6IHN5c3RlbS5jcml0aWNhbF9zeXN0ZW1zID8gXG4gICAgICAgICAgICAgIHN5c3RlbS50b3RhbF9zeXN0ZW1fdHlwZXMgLSBzeXN0ZW0uY3JpdGljYWxfc3lzdGVtcy5sZW5ndGggOiAwLFxuICAgICAgICAgICAgaW52aXNpYmxlOiBzeXN0ZW0uY3JpdGljYWxfc3lzdGVtcyA/IHN5c3RlbS5jcml0aWNhbF9zeXN0ZW1zLmxlbmd0aCA6IDAsXG4gICAgICAgICAgICBzdGF0dXM6IGF2Z1Zpc2liaWxpdHkgPCA0MCA/ICdDUklUSUNBTCcgOiBhdmdWaXNpYmlsaXR5IDwgNzAgPyAnV0FSTklORycgOiAnSEVBTFRIWSdcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyaXR5KSB7XG4gICAgICAgICAgcHJvY2Vzc2VkRGF0YS5zZWN1cml0eSA9IHtcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHNlY3VyaXR5LmFsbF9jb250cm9sc19jb3ZlcmFnZSA/IHNlY3VyaXR5LmFsbF9jb250cm9sc19jb3ZlcmFnZS5jb3ZlcmFnZV9wZXJjZW50YWdlIDogMCxcbiAgICAgICAgICAgIHRvdGFsOiBzZWN1cml0eS50b3RhbF9ob3N0cyB8fCAwLFxuICAgICAgICAgICAgdmlzaWJsZTogc2VjdXJpdHkuYWxsX2NvbnRyb2xzX2NvdmVyYWdlID8gc2VjdXJpdHkuYWxsX2NvbnRyb2xzX2NvdmVyYWdlLmZ1bGx5X3Byb3RlY3RlZF9ob3N0cyA6IDAsXG4gICAgICAgICAgICBpbnZpc2libGU6IHNlY3VyaXR5LmFsbF9jb250cm9sc19jb3ZlcmFnZSA/IHNlY3VyaXR5LmFsbF9jb250cm9sc19jb3ZlcmFnZS5wYXJ0aWFsbHlfcHJvdGVjdGVkX2hvc3RzIDogMCxcbiAgICAgICAgICAgIHN0YXR1czogc2VjdXJpdHkuYWxsX2NvbnRyb2xzX2NvdmVyYWdlPy5zdGF0dXMgfHwgJ0NSSVRJQ0FMJ1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG9nZ2luZykge1xuICAgICAgICAgIHByb2Nlc3NlZERhdGEubG9nZ2luZyA9IHtcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IGxvZ2dpbmcuY29tYmluZWRfY29tcGxpYW5jZSA/IGxvZ2dpbmcuY29tYmluZWRfY29tcGxpYW5jZS5laXRoZXJfcGxhdGZvcm0ucGVyY2VudGFnZSA6IDAsXG4gICAgICAgICAgICB0b3RhbDogbG9nZ2luZy50b3RhbF9ob3N0cyB8fCAwLFxuICAgICAgICAgICAgdmlzaWJsZTogbG9nZ2luZy5jb21iaW5lZF9jb21wbGlhbmNlID8gbG9nZ2luZy5jb21iaW5lZF9jb21wbGlhbmNlLmVpdGhlcl9wbGF0Zm9ybS5ob3N0X2NvdW50IDogMCxcbiAgICAgICAgICAgIGludmlzaWJsZTogbG9nZ2luZy5jb21iaW5lZF9jb21wbGlhbmNlID8gbG9nZ2luZy5jb21iaW5lZF9jb21wbGlhbmNlLm5laXRoZXJfcGxhdGZvcm0uaG9zdF9jb3VudCA6IDAsXG4gICAgICAgICAgICBzdGF0dXM6IGxvZ2dpbmcuY29tYmluZWRfY29tcGxpYW5jZT8ub3ZlcmFsbF9zdGF0dXMgfHwgJ0NSSVRJQ0FMJ1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgcHJvY2Vzc2VkRGF0YS5kb21haW4gPSB7XG4gICAgICAgICAgICBwZXJjZW50YWdlOiBkb21haW4ub3ZlcmFsbF9kb21haW5fdmlzaWJpbGl0eSB8fCAwLFxuICAgICAgICAgICAgdG90YWw6IGRvbWFpbi50b3RhbF9kb21haW5zIHx8IDAsXG4gICAgICAgICAgICB2aXNpYmxlOiBkb21haW4uY3JpdGljYWxfZG9tYWlucyA/IFxuICAgICAgICAgICAgICBkb21haW4udG90YWxfZG9tYWlucyAtIGRvbWFpbi5jcml0aWNhbF9kb21haW5zLmxlbmd0aCA6IGRvbWFpbi50b3RhbF9kb21haW5zLFxuICAgICAgICAgICAgaW52aXNpYmxlOiBkb21haW4uY3JpdGljYWxfZG9tYWlucyA/IGRvbWFpbi5jcml0aWNhbF9kb21haW5zLmxlbmd0aCA6IDAsXG4gICAgICAgICAgICBzdGF0dXM6IGRvbWFpbi5vdmVyYWxsX2RvbWFpbl92aXNpYmlsaXR5IDwgNDAgPyAnQ1JJVElDQUwnIDogXG4gICAgICAgICAgICAgICAgICAgZG9tYWluLm92ZXJhbGxfZG9tYWluX3Zpc2liaWxpdHkgPCA3MCA/ICdXQVJOSU5HJyA6ICdIRUFMVEhZJ1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGUgb3ZlcmFsbCB2aXNpYmlsaXR5XG4gICAgICAgIGNvbnN0IHZpc2liaWxpdHlWYWx1ZXMgPSBPYmplY3QudmFsdWVzKHByb2Nlc3NlZERhdGEpXG4gICAgICAgICAgLmZpbHRlcihkID0+IGQgJiYgdHlwZW9mIGQucGVyY2VudGFnZSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgLm1hcChkID0+IGQucGVyY2VudGFnZSk7XG4gICAgICAgIFxuICAgICAgICBpZiAodmlzaWJpbGl0eVZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcHJvY2Vzc2VkRGF0YS5vdmVyYWxsID0gdmlzaWJpbGl0eVZhbHVlcy5yZWR1Y2UoKHN1bSwgdikgPT4gc3VtICsgdiwgMCkgLyB2aXNpYmlsaXR5VmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICBwcm9jZXNzZWREYXRhLmNyaXRpY2FsQ291bnQgPSBPYmplY3QudmFsdWVzKHByb2Nlc3NlZERhdGEpXG4gICAgICAgICAgICAuZmlsdGVyKGQgPT4gZCAmJiBkLnN0YXR1cyA9PT0gJ0NSSVRJQ0FMJykubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0RGF0YShwcm9jZXNzZWREYXRhKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gZmV0Y2ggdmlzaWJpbGl0eSBtZXRyaWNzJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmV0Y2hNZXRyaWNzKCk7XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmZXRjaE1ldHJpY3MsIDMwMDAwKTsgLy8gUmVmcmVzaCBldmVyeSAzMCBzZWNvbmRzXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIHsgZGF0YSwgbG9hZGluZywgZXJyb3IgfTtcbn07XG5cbi8vIEhvb2sgZm9yIGluZGl2aWR1YWwgcGFnZSBtZXRyaWNzXG5leHBvcnQgY29uc3QgdXNlUGFnZVZpc2liaWxpdHkgPSAocGFnZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlPGFueT4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGVuZHBvaW50TWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAgICdnbG9iYWwnOiAnZ2xvYmFsX3Zpc2liaWxpdHknLFxuICAgICAgICAgICdpbmZyYXN0cnVjdHVyZSc6ICdpbmZyYXN0cnVjdHVyZV92aXNpYmlsaXR5JyxcbiAgICAgICAgICAncmVnaW9uYWwnOiAncmVnaW9uYWxfdmlzaWJpbGl0eScsXG4gICAgICAgICAgJ2J1c2luZXNzLXVuaXQnOiAnYnVzaW5lc3NfdW5pdF92aXNpYmlsaXR5JyxcbiAgICAgICAgICAnc3lzdGVtJzogJ3N5c3RlbV9jbGFzc2lmaWNhdGlvbl92aXNpYmlsaXR5JyxcbiAgICAgICAgICAnc2VjdXJpdHknOiAnc2VjdXJpdHlfY29udHJvbF9jb3ZlcmFnZScsXG4gICAgICAgICAgJ2xvZ2dpbmcnOiAnbG9nZ2luZ19jb21wbGlhbmNlJyxcbiAgICAgICAgICAnZG9tYWluJzogJ2RvbWFpbl92aXNpYmlsaXR5J1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gZW5kcG9pbnRNYXBbcGFnZV07XG4gICAgICAgIGlmICghZW5kcG9pbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcGFnZTogJHtwYWdlfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS8ke2VuZHBvaW50fWApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggJHtlbmRwb2ludH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2V0RGF0YShyZXN1bHQpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCBkYXRhJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmV0Y2hEYXRhKCk7XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmZXRjaERhdGEsIDMwMDAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtwYWdlXSk7XG5cbiAgcmV0dXJuIHsgZGF0YSwgbG9hZGluZywgZXJyb3IgfTtcbn07XG5cbi8vIEV4cG9ydCB1dGlsaXR5IGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGdldFZpc2liaWxpdHlDb2xvciA9IChwZXJjZW50YWdlOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICBpZiAocGVyY2VudGFnZSA+PSA4MCkgcmV0dXJuICcjMDBkNGZmJzsgLy8gY3lhblxuICBpZiAocGVyY2VudGFnZSA+PSA1MCkgcmV0dXJuICcjYzA4NGZjJzsgLy8gcHVycGxlXG4gIHJldHVybiAnI2ZmMDBmZic7IC8vIHBpbmtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTdGF0dXNDb2xvciA9IChzdGF0dXM6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHN3aXRjaCAoc3RhdHVzLnRvVXBwZXJDYXNlKCkpIHtcbiAgICBjYXNlICdIRUFMVEhZJzpcbiAgICAgIHJldHVybiAnIzAwZDRmZic7XG4gICAgY2FzZSAnV0FSTklORyc6XG4gICAgICByZXR1cm4gJyNjMDg0ZmMnO1xuICAgIGNhc2UgJ0NSSVRJQ0FMJzpcbiAgICAgIHJldHVybiAnI2ZmMDBmZic7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnI2ZmZmZmZic7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtYXROdW1iZXIgPSAobnVtOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICBpZiAobnVtID49IDEwMDAwMDApIHtcbiAgICByZXR1cm4gKG51bSAvIDEwMDAwMDApLnRvRml4ZWQoMSkgKyAnTSc7XG4gIH1cbiAgaWYgKG51bSA+PSAxMDAwKSB7XG4gICAgcmV0dXJuIChudW0gLyAxMDAwKS50b0ZpeGVkKDEpICsgJ0snO1xuICB9XG4gIHJldHVybiBudW0udG9TdHJpbmcoKTtcbn07Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlVmlzaWJpbGl0eU1ldHJpY3MiLCJkYXRhIiwic2V0RGF0YSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImZldGNoTWV0cmljcyIsImVuZHBvaW50cyIsInJlc3BvbnNlcyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJlbmRwb2ludCIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJnbG9iYWwiLCJpbmZyYSIsInJlZ2lvbmFsIiwiYnUiLCJzeXN0ZW0iLCJzZWN1cml0eSIsImxvZ2dpbmciLCJkb21haW4iLCJwcm9jZXNzZWREYXRhIiwicGVyY2VudGFnZSIsImdsb2JhbF92aXNpYmlsaXR5X3BlcmNlbnRhZ2UiLCJ0b3RhbCIsInRvdGFsX2hvc3RzIiwidmlzaWJsZSIsInZpc2libGVfaG9zdHMiLCJpbnZpc2libGUiLCJpbnZpc2libGVfaG9zdHMiLCJzdGF0dXMiLCJpbmZyYXN0cnVjdHVyZSIsIm92ZXJhbGxfaW5mcmFzdHJ1Y3R1cmVfdmlzaWJpbGl0eSIsInRvdGFsX2luZnJhc3RydWN0dXJlX3R5cGVzIiwiY2F0ZWdvcnlfc3VtbWFyeSIsIk9iamVjdCIsInZhbHVlcyIsImZpbHRlciIsImMiLCJ2aXNpYmlsaXR5X3BlcmNlbnRhZ2UiLCJsZW5ndGgiLCJjcml0aWNhbF9nYXBzIiwiYXZnVmlzaWJpbGl0eSIsInJlZ2lvbmFsX2JyZWFrZG93biIsInJlZHVjZSIsInN1bSIsInIiLCJidXNpbmVzc191bml0X2JyZWFrZG93biIsImIiLCJidXNpbmVzc1VuaXQiLCJzIiwia2V5cyIsInRvdGFsX3N5c3RlbV90eXBlcyIsImNyaXRpY2FsX3N5c3RlbXMiLCJhbGxfY29udHJvbHNfY292ZXJhZ2UiLCJjb3ZlcmFnZV9wZXJjZW50YWdlIiwiZnVsbHlfcHJvdGVjdGVkX2hvc3RzIiwicGFydGlhbGx5X3Byb3RlY3RlZF9ob3N0cyIsImNvbWJpbmVkX2NvbXBsaWFuY2UiLCJlaXRoZXJfcGxhdGZvcm0iLCJob3N0X2NvdW50IiwibmVpdGhlcl9wbGF0Zm9ybSIsIm92ZXJhbGxfc3RhdHVzIiwib3ZlcmFsbF9kb21haW5fdmlzaWJpbGl0eSIsInRvdGFsX2RvbWFpbnMiLCJjcml0aWNhbF9kb21haW5zIiwidmlzaWJpbGl0eVZhbHVlcyIsImQiLCJvdmVyYWxsIiwidiIsImNyaXRpY2FsQ291bnQiLCJFcnJvciIsIm1lc3NhZ2UiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInVzZVBhZ2VWaXNpYmlsaXR5IiwicGFnZSIsImZldGNoRGF0YSIsImVuZHBvaW50TWFwIiwicmVzcG9uc2UiLCJvayIsInJlc3VsdCIsImdldFZpc2liaWxpdHlDb2xvciIsImdldFN0YXR1c0NvbG9yIiwidG9VcHBlckNhc2UiLCJmb3JtYXROdW1iZXIiLCJudW0iLCJ0b0ZpeGVkIiwidG9TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useVisibilityData.ts\n"));

/***/ })

});